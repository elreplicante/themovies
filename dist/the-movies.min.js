function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}function onError(a){alert("Error on GPS"+a)}function getDistance(a,b,c,d){var e=6371,f=toRadians(c-a),g=toRadians(d-b),h=Math.sin(f/2)*Math.sin(f/2)+Math.cos(toRadians(a))*Math.cos(toRadians(c))*Math.sin(g/2)*Math.sin(g/2),i=2*Math.atan2(Math.sqrt(h),Math.sqrt(1-h)),j=e*i;return j}function toRadians(a){return a*(Math.PI/180)}function distanceToCinema(a){navigator.geolocation.getCurrentPosition(function(b){var c=b.coords.latitude,d=b.coords.longitude,e=document.createTextNode(c+", "+d);return document.getElementById("current-location").appendChild(e),getDistance(c,d,a.position.lat,a.position.lon)})}function onChange(a){var b=a.gamma,c=(a.beta,a.alpha,document.querySelector("#logo"));c.style.webkitTransform="rotateY("+10*b+"deg)"}navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)},navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)},navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)},navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)},navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)},navigator.geolocation&&console.log("Geolocation is available "),window.onsubmit=function(){var a=document.getElementById("cinema-name").value,b=storage.get(a),c=distanceToCinema(b);alert(c)};var storage=function(){_key=null,_fields={};var a=function(a,b){_key=a,b&&(_fields[_key]=b)},b=function(){var a=f();a[arguments[0]]=h(arguments),g(a)},c=function(a){var b=f();return console.log(a?b[a]:b),a?b[a]:b},d=function(){var a=f(),b=arguments[0];a[b]&&(a[b]=h(arguments)),g(a)},e=function(a){var b=f();delete b[a],g(b)},f=function(){return JSON.parse(window.localStorage.getItem(_key))||{}},g=function(a){_key&&window.localStorage.setItem(_key,JSON.stringify(a))},h=function(a){var b={};for(var c in _fields[_key])field=_fields[_key][c],b[field]=a[parseInt(c)+1];return b};return{model:a,create:b,read:c,update:d,drop:e}}();storage.model("cinemas",["position","movies"]),storage.create("Palafox",{lat:40.430109,lon:-3.700892},["Batman","Superman"]);var cinema=storage.read();distanceToCinema(cinema);var notification=function(){var a="icon.png",b=function(b,c){window.webkitNotifications&&console.log("Notifications are supported"),0==window.webkitNotifications.checkPermission()&&console.log("Notifications are supported"),window.webkitNotifications.createNotification(a,b,c).show()};return{notify:b}}();window.DeviceOrientationEvent&&console.log("DeviceOrientation are supported!"),window.addEventListener("deviceorientation",onChange,!1),self.onmessage=function(a){self.postMessage("Recibed:"+a.data)};